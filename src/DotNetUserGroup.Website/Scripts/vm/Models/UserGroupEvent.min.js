(function(){window.UserGroupEvent=function(){function n(n){var t,i=this;this.date=ko.observable(n.Date&&Date.parse(n.Date)),this.fDate=ko.computed(function(){return i.formatDate(i.date())}),this.venue=ko.observable(n.Venue),this.address=ko.observable(n.Address),this.time=ko.observable(this.formatTime(n)),this.url=ko.observable("http://www.eventbrite.ca/event/"+n.Id),this.title=ko.observable(n.Title),this.description=ko.observable(((t=n.Description)!=null?t.split("\n").slice(0,1).join("\n"):void 0)+"...")}return n.prototype.formatDate=function(n){if(n!=null)return n.toString("dddd, MMMM dd, yyyy")},n.prototype.formatTime=function(n){var t,i;if(n.EndDate)return i=Date.parse(n.Date).toString("HH:mm"),t=Date.parse(n.EndDate).toString("HH:mm"),""+i+" to "+t},n.findAll=function(t){return $.ajax({type:"GET",url:"../api/events",success:function(i){var r;return t.success(function(){var t,f,u;for(u=[],t=0,f=i.length;t<f;t++)r=i[t],u.push(new n(r));return u}())},error:t.error,complete:t.complete})},n.Empty=function(){return new n({Date:null,Venue:null,Title:null,Status:null,EndDate:null})},n}()}).call(this)