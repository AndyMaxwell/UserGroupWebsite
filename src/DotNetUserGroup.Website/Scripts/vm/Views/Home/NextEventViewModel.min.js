(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};window.NextEventViewModel=function(){function t(){this.loadNextEvent=n(this.loadNextEvent,this);var t=this;this.event=ko.observable(UserGroupEvent.Empty()),this.eventPending=ko.observable(!0),this.loading=ko.observable(!0),UserGroupEvent.findAll({success:this.loadNextEvent,complete:function(){return t.loading(!1)}})}return t.prototype.loadNextEvent=function(n){var t,i;return i=function(){var i,u,r;for(r=[],i=0,u=n.length;i<u;i++)t=n[i],this.hasNotHappened(t)&&r.push(t);return r}.call(this),this.eventPending(i.length===0),this.eventPending()?void 0:this.event(i[0])},t.prototype.hasNotHappened=function(n){var t;return((t=n.date())!=null?t.compareTo(Date.today()):void 0)>0},t}()}).call(this)